(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{233:function(e,t,a){e.exports=a(552)},552:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"counterTick",function(){return Ee}),a.d(n,"counterAdd",function(){return _e}),a.d(n,"setSelectedFund",function(){return be}),a.d(n,"selectFund",function(){return ve}),a.d(n,"fetchPrice",function(){return ge}),a.d(n,"updatePrice",function(){return ye}),a.d(n,"fetchNewPriceHist",function(){return ke}),a.d(n,"updatePriceHist",function(){return Oe}),a.d(n,"updateAllHist",function(){return Ce}),a.d(n,"fetchAllHist",function(){return je});var r=a(0),i=a.n(r),o=a(34),c=a.n(o),l=a(46),s=a.n(l),u=a(73),p=a(27),m=a(28),f=a(31),d=a(29),h=a(30),E=a(74),_=a(559),b=a(558),v=a(58),g=a(47),y=a(3),k=a.n(y),O=a(72),C=a(224),j=a.n(C),w=a(229),S=a.n(w),D=a(225),B=a.n(D),T=a(226),x=a.n(T),P=a(40),N=a.n(P),H=a(60),I=a.n(H),A=a(100),F=a.n(A),U=a(227),M=a.n(U),Y=a(230),L=a.n(Y),R=a(228),G=a.n(R),W=a(61),X=a.n(W),V=a(62),z=a.n(V),J=a(63),K=a.n(J),$=a(137),q=a.n($),Q=a(213),Z=a.n(Q),ee=a(214),te=a.n(ee),ae=a(215),ne=a.n(ae),re=a(136),ie=a.n(re),oe=a(135),ce=a.n(oe),le=a(59),se={mm_account:"0xf6e142f84EeBE8b533F97353dE1d3Cd39Cc272f3",portfolios:[{id:0,portfolio_name:"First Portfolio",inception_date:1518238874,close_date:1549775747,funding_account:"0xf6e142f84EeBE8b533F97353dE1d3Cd39Cc272f3ll",inception_fee:.1,close_fee:.15,status:"closed",inception_allocations:[{name:"Bitcoin",ticker:"BTC",price:4282,amount:.62},{name:"Ether",ticker:"ETH",price:200,amount:.46},{name:"Bitcoin Cash",ticker:"BCH",price:153,amount:6.62},{name:"Ether Classic",ticker:"ETC",price:33,amount:.16},{name:"Litecoin",ticker:"LTC",price:14,amount:.16}],close_allocations:[{name:"Bitcoin",ticker:"BTC",price:4282,amount:.62},{name:"Ether",ticker:"ETH",price:218,amount:2.51}]},{id:1,portfolio_name:"Second Portfolio",inception_date:1518238874,close_date:1549775747,funding_account:"0xf6e142f84EeBE8b533F97353dE1d3Cd39Cc272f3ll",inception_fee:.1,close_fee:.15,status:"open",chart_start_date:1518238874,chart_end_date:1549775747,inception_allocations:[{name:"Bitcoin",ticker:"BTC",price:4282,amount:.62},{name:"Ether",ticker:"ETH",price:200,amount:.46},{name:"Bitcoin Cash",ticker:"BCH",price:153,amount:6.62},{name:"Ether Classic",ticker:"ETC",price:33,amount:.16}],close_allocations:[{name:"Bitcoin",ticker:"BTC",price:4282,amount:.62},{name:"Ether",ticker:"ETH",price:218,amount:2.51}]}],interval:2,count:0,selected_portfolio:-1,historical_price_data:null,spot_price:null},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;return"UPDATE_BTC_PRICE"===t.type?Object(g.a)({},e,{btc_price:t.btc_price}):"UPDATE_ETH_PRICE"===t.type?Object(g.a)({},e,{eth_price:t.eth_price}):"SELECT_FUND"===t.type?Object(g.a)({},e,{selected_portfolio:t.selected_portfolio}):"UPDATE_PRICE_HIST"===t.type?Object(g.a)({},e,{historical_price_data:t.historical_price_data}):Object(g.a)({},e)},pe=a(211),me=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||le.c,fe=Object(le.d)(ue,me(Object(le.a)(pe.a))),de=a(45),he=a.n(de);function Ee(){return function(e){return e(_e(fe.getState().count++))}}function _e(e){return{type:"COUNTER_ADD",count:e}}function be(e){return function(t){return t(ve(e))}}function ve(e){return{type:"SELECT_FUND",selected_portfolio:e}}function ge(e){return console.log("FetchPriceHist called!"),function(t){return ce.a.get("https://api.coinbase.com/v2/prices/".concat(e,"-USD/spot")).then(function(e){t(ye(e.data.data.amount))})}}function ye(e){return{type:"UPDATE_PRICE",btc_price:e}}function ke(e,t,a){return function(){var n=Object(u.a)(s.a.mark(function n(r){return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ce.a.get("https://min-api.cryptocompare.com/data/histoday?fsym=".concat(e,"&tsym=USD&limit=").concat(t,"&aggregate=").concat(a,"&e=CCCAGG")).then(function(t){if(null===fe.getState().historical_price_data){var a=t.data.Data.map(function(t){var a=he.a.unix(t.time).format("YYYY-MM-DD");return Object(v.a)({date:a},e,t.close)});r(Oe(a))}else{var n=fe.getState().historical_price_data.map(function(a){var n=a,r=!0,i=!1,o=void 0;try{for(var c,l=t.data.Data[Symbol.iterator]();!(r=(c=l.next()).done);r=!0){var s=c.value;he.a.unix(s.time).format("YYYY-MM-DD")===n.date&&(n[e]=s.close)}}catch(u){i=!0,o=u}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return n});r(Oe(n))}});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}()}function Oe(e){return{type:"UPDATE_PRICE_HIST",historical_price_data:e}}function Ce(e){return{type:"UPDATE_ALL_HIST",historical_price_data:e}}function je(){return we.apply(this,arguments)}function we(){return(we=Object(u.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",function(e){return function(e){e(Ce(fe.getState().portfolios))}});case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var Se=a(23),De=a(75),Be=a.n(De),Te=function(e){function t(e){return Object(p.a)(this,t),Object(f.a)(this,Object(d.a)(t).call(this,e))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=i.a.createElement("div",null,i.a.createElement(I.a,null),i.a.createElement(Be.a,null,i.a.createElement(X.a,{button:!0},i.a.createElement(z.a,null,i.a.createElement(Z.a,null)),i.a.createElement(K.a,{primary:"Dashboard"})),i.a.createElement(X.a,{button:!0},i.a.createElement(z.a,null,i.a.createElement(te.a,null)),i.a.createElement(K.a,{primary:"New SmartFund"})),i.a.createElement(X.a,{button:!0,onClick:function(){e.props.setSelectedFund(-1)}},i.a.createElement(z.a,null,i.a.createElement(ne.a,null)),i.a.createElement(K.a,{primary:"Performance"}))),i.a.createElement(I.a,null)),a=this.props.portfolios.map(function(t){if("open"===t.status)return i.a.createElement(X.a,{button:!0,onClick:function(){e.props.setSelectedFund(t.id)},key:t.id},i.a.createElement(z.a,null,i.a.createElement(ie.a,null)),i.a.createElement(K.a,{primary:t.portfolio_name}))}),n=this.props.portfolios.map(function(t){if("closed"===t.status)return i.a.createElement(X.a,{button:!0,onClick:function(){e.props.setSelectedFund(t.id)},key:t.id},i.a.createElement(z.a,null,i.a.createElement(ie.a,null)),i.a.createElement(K.a,{primary:t.portfolio_name}))});return i.a.createElement("div",null,t,i.a.createElement(q.a,{inset:!0},"Open Portfolios"),i.a.createElement(Be.a,null,a),i.a.createElement(I.a,null),i.a.createElement(q.a,{inset:!0},"Liquidated Portfolios"),i.a.createElement(Be.a,null,n))}}]),t}(r.Component),xe=Object(Se.b)(function(e){return{btc_price:e.btc_price,interval:e.interval,count:e.count,portfolios:e.portfolios,historical_price_data:e.historical_price_data}},n)(Te),Pe=a(218),Ne=a.n(Pe),He=a(219),Ie=a.n(He),Ae=a(131),Fe=a.n(Ae),Ue=a(133),Me=a.n(Ue),Ye=a(134),Le=a.n(Ye),Re=a(220),Ge=a.n(Re),We=a(132),Xe=a.n(We),Ve=a(95),ze=a.n(Ve),Je=a(69),Ke=["#e6194b","#3cb44b","#4363d8","#f58231","#911eb4","#46f0f0","#f032e6","#bcf60c","#fabebe","#008080","#e6beff","#9a6324","#fffac8","#800000","#aaffc3","#808000","#ffd8b1","#000075","#808080","#ffffff","#000000"],$e=function(e){function t(e){return Object(p.a)(this,t),Object(f.a)(this,Object(d.a)(t).call(this,e))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.portfolios[this.props.selected_portfolio].inception_allocations.map(function(e,t){return i.a.createElement(Fe.a,{type:"monotone",dataKey:e.ticker,stroke:Ke[t],key:e.id+e.ticker})});return i.a.createElement(Ne.a,{width:"99%",height:320},i.a.createElement(Ie.a,{data:this.props.historical_price_data},i.a.createElement(Me.a,{dataKey:"date"}),i.a.createElement(Le.a,null),i.a.createElement(Ge.a,{vertical:!1,strokeDasharray:"3 3"}),i.a.createElement(Xe.a,null),i.a.createElement(ze.a,null),e))}}]),t}(r.Component),qe=Object(Se.b)(function(e){return{portfolios:e.portfolios,historical_price_data:e.historical_price_data,chart_start_date:e.chart_start_date,selected_portfolio:e.selected_portfolio}},n)($e),Qe=a(221),Ze=a.n(Qe),et=a(223),tt=a.n(et),at=a(24),nt=a.n(at),rt=a(222),it=a.n(rt),ot=a(139),ct=a.n(ot),lt=a(96),st=a.n(lt),ut=0;var pt=function(e){function t(e){return Object(p.a)(this,t),Object(f.a)(this,Object(d.a)(t).call(this,e))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){}},{key:"percIncrease",value:function(e,t){var a;return a=0!==t?0!==e?(t-e)/e*100:100*t:100*-e,Math.floor(a)}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props.selected_portfolio,n=he()().format("YYYY-MM-DD").toString(),r=null,o=[];if(null!==this.props.historical_price_data){var c=!0,l=!1,s=void 0;try{for(var u,p=this.props.historical_price_data[Symbol.iterator]();!(c=(u=p.next()).done);c=!0){var m=u.value;n===m.date&&(r=m)}}catch(f){l=!0,s=f}finally{try{c||null==p.return||p.return()}finally{if(l)throw s}}o=this.props.portfolios[a].inception_allocations.map(function(t){var a=t.price*t.amount,n=(t.amount*r[t.ticker]).toFixed(2),i=e.percIncrease(a,n)+"%";return function(e,t,a,n,r,i){return{id:ut+=1,name:e,ticker:t,initial_amount:a,book_value:n,market_value:r,change:i}}(t.name,t.ticker,t.amount,"$"+a,"$"+n,i)})}return i.a.createElement(st.a,{className:t.root},i.a.createElement(Ze.a,{className:t.table},i.a.createElement(it.a,null,i.a.createElement(ct.a,null,i.a.createElement(nt.a,null,"Crypto Asset"),i.a.createElement(nt.a,{align:"center"},"Ticker"),i.a.createElement(nt.a,{align:"center"},"Initial Amount"),i.a.createElement(nt.a,{align:"right"},"Book Value"),i.a.createElement(nt.a,{align:"right"},"Market Value"),i.a.createElement(nt.a,{align:"right"},"% Change"))),i.a.createElement(tt.a,null,o.map(function(e){return i.a.createElement(ct.a,{key:e.id},i.a.createElement(nt.a,{component:"th",scope:"row"},e.name),i.a.createElement(nt.a,{align:"center"},e.ticker),i.a.createElement(nt.a,{align:"center"},e.initial_amount," ",e.ticker),i.a.createElement(nt.a,{align:"right"},e.book_value),i.a.createElement(nt.a,{align:"right"},e.market_value),i.a.createElement(nt.a,{align:"right"},e.change))}))))}}]),t}(r.Component),mt=Object(Se.b)(function(e){return{portfolios:e.portfolios,historical_price_data:e.historical_price_data,selected_portfolio:e.selected_portfolio}},n)(Object(O.withStyles)({root:{width:"100%",overflowX:"auto"},table:{minWidth:700}})(pt)),ft=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(f.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={open:!0},a.handleDrawerOpen=function(){a.setState({open:!0})},a.handleDrawerClose=function(){a.setState({open:!1})},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement("div",{className:e.root},i.a.createElement(j.a,null),i.a.createElement(B.a,{position:"absolute",className:k()(e.appBar,this.state.open&&e.appBarShift)},i.a.createElement(x.a,{disableGutters:!this.state.open,className:e.toolbar},i.a.createElement(F.a,{color:"inherit","aria-label":"Open drawer",onClick:this.handleDrawerOpen,className:k()(e.menuButton,this.state.open&&e.menuButtonHidden)},i.a.createElement(M.a,null)),i.a.createElement(F.a,{color:"inherit"},"\xa0",i.a.createElement(N.a,{component:"h1",variant:"h4",color:"inherit",noWrap:!0,className:e.title},"SmartFund")),i.a.createElement(N.a,{component:"h1",variant:"h6",color:"inherit",align:"right",noWrap:!0,className:e.title},i.a.createElement(G.a,null),"\xa0Account: ",this.props.mm_account))),i.a.createElement(S.a,{variant:"permanent",classes:{paper:k()(e.drawerPaper,!this.state.open&&e.drawerPaperClose)},open:this.state.open},i.a.createElement("div",{className:e.toolbarIcon},i.a.createElement(F.a,{onClick:this.handleDrawerClose},i.a.createElement(L.a,null))),i.a.createElement(I.a,null),i.a.createElement(xe,null)),i.a.createElement("main",{className:e.content},i.a.createElement("div",{className:e.appBarSpacer}),-1===this.props.selected_portfolio?i.a.createElement("div",null,i.a.createElement(Je.a,{value:this.props})):i.a.createElement("div",null,i.a.createElement(N.a,{variant:"h4",gutterBottom:!0,component:"h2"},this.props.portfolios[this.props.selected_portfolio].portfolio_name),i.a.createElement(N.a,{variant:"h6",gutterBottom:!0,component:"h2"},"Created ",he.a.unix(this.props.portfolios[this.props.selected_portfolio].inception_date).format("lll")),i.a.createElement(N.a,{variant:"h6",gutterBottom:!0,component:"h2"},"Price (USD)"),i.a.createElement(N.a,{component:"div",className:e.chartContainer},i.a.createElement(qe,null)),i.a.createElement(N.a,{variant:"h5",gutterBottom:!0,component:"h2"},"Asset Allocation"),i.a.createElement("div",{className:e.tableContainer},i.a.createElement(mt,null)))))}}]),t}(i.a.Component),dt=Object(Se.b)(function(e){return{portfolios:e.portfolios,mm_account:e.mm_account,selected_portfolio:e.selected_portfolio,historical_price_data:e.historical_price_data}},n)(Object(O.withStyles)(function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(g.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginLeft:12,marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(v.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:7*e.spacing.unit},e.breakpoints.up("sm"),{width:9*e.spacing.unit}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,padding:3*e.spacing.unit,height:"100vh",overflow:"auto"},chartContainer:{marginLeft:-22},tableContainer:{height:320},h5:{marginBottom:2*e.spacing.unit}}})(ft)),ht=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(f.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={open:!0},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;this.props.classes;return i.a.createElement(_.a,null,i.a.createElement(b.a,{path:"/",render:function(t){t.match;return i.a.createElement(dt,{account:e.state.account})}}))}}]),t}(i.a.Component),Et=Object(Se.b)(function(e){return{selected_portfolio:e.selected_portfolio}})(ht),_t=function(e){return i.a.createElement("nav",null)},bt=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(f.a)(this,Object(d.a)(t).call(this,e))).tick=a.tick.bind(Object(E.a)(Object(E.a)(a))),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=setInterval(this.tick,1e3*this.props.interval);this.setState({timer:e}),this.pullHistoricalData()}},{key:"pullHistoricalData",value:function(){var e=Object(u.a)(s.a.mark(function e(){var t,a,n,r,i,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=!0,a=!1,n=void 0,e.prev=3,r=this.props.portfolios[0].inception_allocations[Symbol.iterator]();!(t=(i=r.next()).done);t=!0)o=i.value,this.props.fetchNewPriceHist(o.ticker,40,1);e.next=11;break;case 7:e.prev=7,e.t0=e.catch(3),a=!0,n=e.t0;case 11:e.prev=11,e.prev=12,t||null==r.return||r.return();case 14:if(e.prev=14,!a){e.next=17;break}throw n;case 17:return e.finish(14);case 18:return e.finish(11);case 19:case"end":return e.stop()}},e,this,[[3,7,11,19],[12,,14,18]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.clearInterval(this.state.timer)}},{key:"tick",value:function(){}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(_t,null),i.a.createElement(Et,null))}}]),t}(r.Component),vt=Object(Se.b)(function(e){return{btc_price:e.btc_price,interval:e.interval,count:e.count,portfolios:e.portfolios,historical_price_data:e.historical_price_data,price_hist:e.price_hist,selected_portfolio:e.selected_portfolio}},n)(bt),gt=a(557),yt=i.a.createElement(Se.a,{store:fe},i.a.createElement(gt.a,null,i.a.createElement(vt,null)));c.a.render(yt,document.getElementById("root"))}},[[233,2,1]]]);
//# sourceMappingURL=main.baf91024.chunk.js.map